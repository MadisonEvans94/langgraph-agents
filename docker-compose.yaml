# docker-compose.yml

services:
  mcp-server:
    build:
      context: ./mcp_server  # Directory containing the Dockerfile.mcp-server
      dockerfile: Dockerfile.mcp-server
    container_name: mcp-server
    ports:
      - "8002:8002"
    # environment variables can be set here if needed
    # environment:
    #   - MCP_SERVER_PORT=8002

  agent-service:
    build:
      context: .
      dockerfile: Dockerfile.agent-service
    container_name: agent-service
    depends_on:
      - mcp-server
    ports:
      - "8001:8001"

  # streamlit:
  #   build:
  #     context: ./frontend
  #     dockerfile: Dockerfile.streamlit
  #   container_name: streamlit
  #   depends_on:
  #     - agent-service
  #   ports:
  #     - "8501:8501"
  #   environment:
  #     - AGENT_SERVICE_URL=http://agent-service:8001